{% extends "base.html" %}
{% block content %}

<div class="article-container article-page">
  <article class="comparison-article">
    <!-- Hero Section -->
    <section class="hero-section">
      <div class="hero-content">
        <div class="hero-left">
          <div class="hero-label">Prototype</div>
          <h1 class="hero-title">Discover the Real Value of Food with Compear</h1>
        </div>
        <div class="hero-right">
          <div class="hero-image">
            <img src="{{ url_for('static', filename='uploads/ketelbroek-website-achtergrond.jpg') }}" alt="Food Forest Garden" />
          </div>
        </div>
      </div>
    </section>

    <!-- Tool Description Section -->
    <section class="tool-description">
      <div class="container">
        <h2>The Compear Tool</h2>
        <p class="description-text">
          Our Compear Tool is an interactive visualisation that reveals the hidden costs and benefits behind the food we eat, the True Value. By comparing food forest products with those from conventional agriculture, this tool helps you understand the real impact of your choices, beyond just the price tag. Conventional farming often comes with unseen ecological costs, like carbon emissions, water pollution, and biodiversity loss. These costs aren’t reflected at the checkout but are paid by the planet and eventually, by all of us. In contrast, food forest products are grown in harmony with nature, reducing harm and even generating ecological value. This tool breaks down those factors and shows how investing in sustainably grown food in food forests can ultimately cost less, for you and for the planet.
          Explore the comparison below to see how much true value food forests provide.
        </p>
        <p class="explore-text">
          Explore the comparison below to see how much true value food forests provide.
        </p>
      </div>
    </section>

    <!-- Slider Section -->
    <section class="comparison-slider-section">
      <h2>How many KG of food do you want to compare?</h2>
      <p class="slider-instruction">Use the slider below to show how many KG of apples you would like to compare</p>
      
      <div class="slider-container">
        <input type="range" min="1" max="1000" value="1" step="1" class="slider" id="amountSlider">
        <div class="slider-value"><span id="current-amount">20000</span>KG</div>
      </div>
    </section>

    <!-- Comparison Section -->
    <section class="comparison-section-new">
      <div class="comparison-images">
        <div class="comparison-side">
          <div class="comparison-image">
            <img src="{{ url_for('static', filename='images/hero_pears.jpg') }}" alt="Food forest produce" />
          </div>
          <h3>Food-Forest</h3>
        </div>
        
        <div class="vs-divider">VS</div>
        
        <div class="comparison-side">
          <div class="comparison-image">
            <img src="/placeholder.svg?height=200&width=300" alt="Conventional agriculture" />
          </div>
          <h3>Agriculture</h3>
        </div>
      </div>

      <!-- Metrics Section -->
      <div class="metrics-section">
        <div class="metric-row">
          <div class="metric-label">Carbon</div>
          <div class="metric-pill">+2.67 per KG</div>
        </div>
        
        <div class="metric-row">
          <div class="metric-label">Water</div>
          <div class="metric-pill">+0.05 per KG</div>
        </div>
        
        <div class="metric-row">
          <div class="metric-label">True costs per KG</div>
          <div class="metric-pill large" id="true-costs-display">+2.72 per KG</div>
        </div>
        
        <div class="metric-row">
          <a href="#nutrition-section" class="metric-link">Link to nutrition text</a>
          <div class="metric-label">Nutrition</div>
        </div>
        
        <div class="metric-row">
          <a href="#biodiversity-section" class="metric-link">Link to biodiversity text</a>
          <div class="metric-label">Biodiversity</div>
        </div>
        
        <div class="metric-row">
          <a href="#true-value-section" class="metric-link">Link to True Value text</a>
          <div class="metric-label">True value</div>
        </div>
      </div>
    </section>

    <!-- Detailed Sections -->
    <section id="carbon-section" class="detail-section">
      <h2>Carbon Sequestration</h2>
      <div class="detail-content">
        <div class="detail-text">
          <p>This value shows the difference in climate impact between food forests and conventional agriculture, calculated per kilogram of food. We estimate how much carbon is stored in a food forest and how much is emitted by conventional farming. Then, we divide this difference by the average food yield per hectare.</p>
          <p>The result gives a simplified carbon cost per kilogram of food, making the climate benefit of food forests visible and comparable. It helps users see how every kilo of food can either contribute to carbon storage or to emissions, depending on how it’s produced.</p>
        </div>
        <div class="detail-image">
          <img src="{{ url_for('static', filename='uploads/shutterstock_1974223916_0.jpg') }}" alt="Carbon sequestration illustration" />
        </div>
      </div>
    </section>

    <section id="water-section" class="detail-section">
      <h2>Water Quality</h2>
      <div class="detail-content">
        <div class="detail-image">
          <img src="{{ url_for('static', filename='uploads/water-globe_shutterstock_115060456_500px1.jpg') }}" alt="Water quality illustration" />
        </div>
        <div class="detail-text">
          <p>This value reflects the hidden cost of cleaning water that is commonly polluted by conventional agriculture, calculated per kilogram of food produced. These costs arise when reversing the impact of chemical fertilizers and pesticides widely used in standard farming, which often run off into water sources and significantly reduce water quality. The value shown is a simplified monetary estimate of the water treatment needed to reverse this damage.</p>
          <p>Since food forests avoid such chemicals entirely, their water cleaning costs are effectively zero. This comparison helps users see the contrast between the two food production approaches and their impact on water quality. It helps to understand the unseen environmental burden of conventional agriculture and the water-saving benefits of food forestry.</p>
        </div>
      </div>
    </section>

    <section id="nutrition-section" class="detail-section">
      <h2>Nutrition</h2>
      <div class="detail-content">
        <div class="detail-text">
          <p>This value could unfortunately not yet be quantified. However, food grown in food forests is more nutrient-dense and safer for the human health than conventionally farmed produce. Conventional agriculture relies heavily on synthetic pesticides, which often leave behind residues linked to hormonal disruption, neurological disorders, and chronic disease. In contrast, food forests use natural methods like mulching and polyculture planting, which enrich soil health and boost the presence of beneficial compounds such as antioxidants and phytochemicals. These nutrients support immune function and help reduce the risk of chronic diseases. As a result, food forest produce is not only healthier and safer to eat, but also supports long-term ecological balance. </p>
          <p>Therefore, nutrition is an essential element contributing to the true value of food forestry. However, due to the current lack of comprehensive data on their specific nutritional composition, these benefits cannot yet be quantified.</p>
        </div>
        <div class="detail-image">
          <img src="{{ url_for('static', filename='uploads/A-Z-Guide-of-Nutrition-Essentials_truworth-wellness.jpg') }}" alt="Nutrition illustration" />
        </div>
      </div>
    </section>

    <section id="biodiversity-section" class="detail-section">
      <h2>Biodiversity</h2>
      <div class="detail-content">
        <div class="detail-image">
          <img src="{{ url_for('static', filename='uploads/peacock-butterfly-1655724_1920.jpg') }}" alt="Biodiversity illustration" />
        </div>
        <div class="detail-text">
          <p>Food forests support significantly more species than conventional agriculture. Their diverse structure provides habitat for beneficial insects, birds, and other wildlife.</p>
          <p>Biodiversity creates resilience against pests and diseases naturally, reducing or eliminating the need for chemical interventions. This creates a self-regulating ecosystem that becomes more stable over time.</p>
        </div>
      </div>
    </section>

    <section id="true-value-section" class="detail-section">
      <h2>True Value</h2>
      <div class="detail-content">
        <div class="detail-text">
          <p>When we factor in all environmental costs and benefits, food forest products often represent better value despite sometimes higher upfront prices. The true value of food forests consists of four key elements: carbon sequestration, water quality, nutrition, and biodiversity. Compared to food forestry, conventional agriculture imposes hidden environmental costs, such as greenhouse gas emissions and pesticide runoff that degrade soil and water systems, that are not accounted for economically, leaving the planet to bear the burden. This makes it important to highlight both the environmental costs of conventional practices and the true value benefits of food forestry. These external costs have been quantified using averages and assumptions to highlight both the damage caused by conventional methods and the added value of food forestry.</p>
          <p>While carbon and water impacts were quantified, the other two elements, nutrition and biodiversity, also add significant value to food forestry. They contribute to healthier outcomes for both people and the planet, reinforcing the broader ecological and human benefits of this agricultural model. However, due to limited data, it was not yet possible to quantify these benefits. Since the current analysis is based on general averages, more detailed, crop-specific research is needed to assess nutrition and biodiversity more accurately.</p>
        </div>
      </div>
    </section>

    <!-- Call to Action -->
    <section class="article-cta">
      <h2>Experience the Difference</h2>
      <p>Visit our network of food forests to taste the difference and see sustainable agriculture in action.</p>
      <div class="cta-buttons">
        <a href="{{ url_for('views.food_forests') }}" class="cta-button primary">Find a Food Forest</a>
        <a href="{{ url_for('auth.sign_up') }}" class="cta-button secondary">Join Our Community</a>
      </div>
    </section>
  </article>
</div>

<style>
  /* Reset and base styles */
  .article-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0;
    font-family: Arial, sans-serif;
  }

  /* Hero Section */
  .hero-section {
    background: #f8f9fa;
    padding: 0;
    margin-top: 0;
    height: 100vh;
    min-height: 600px;
    display: flex;
    align-items: center;
  }

  .hero-content {
    display: flex;
    align-items: center;
    gap: 0;
    max-width: 1400px;
    margin: 0 auto;
    padding: 0;
    height: 100%;
    width: 100%;
  }

  .hero-left {
    flex: 1;
    padding: 4rem;
    background: #f8f9fa;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .hero-label {
    font-size: 1rem;
    color: #666;
    margin-bottom: 1rem;
    font-weight: 500;
  }

  .hero-title {
    font-size: 3.5rem;
    font-weight: bold;
    color: #333;
    line-height: 1.2;
    margin: 0;
  }

  .hero-right {
    flex: 1;
    position: relative;
    height: 100%;
  }

  .hero-image {
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  .hero-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* Tool Description Section */
  .tool-description {
    padding: 4rem 0;
    background: white;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  .tool-description h2 {
    font-size: 2.5rem;
    color: #ccc;
    margin-bottom: 2rem;
    font-weight: 300;
  }

  .description-text {
    font-size: 1.1rem;
    line-height: 1.8;
    color: #666;
    margin-bottom: 1.5rem;
  }

  .explore-text {
    font-size: 1.1rem;
    color: #666;
    margin-bottom: 0;
  }

  /* Slider Section */
  .comparison-slider-section {
    text-align: center;
    margin-bottom: 3rem;
    padding: 0 2rem;
  }

  .comparison-slider-section h2 {
    font-size: 2rem;
    margin-bottom: 0.5rem;
    color: #333;
    font-weight: normal;
  }

  .slider-instruction {
    color: #666;
    margin-bottom: 2rem;
    font-size: 1rem;
  }

  .slider-container {
    max-width: 600px;
    margin: 0 auto;
    position: relative;
  }

  .slider {
    -webkit-appearance: none;
    width: 100%;
    height: 12px;
    border-radius: 25px;
    background: #7CB342;
    outline: none;
    margin-bottom: 1rem;
  }

  .slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: white;
    cursor: pointer;
    border: 2px solid #7CB342;
  }

  .slider::-moz-range-thumb {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: white;
    cursor: pointer;
    border: 2px solid #7CB342;
  }

  .slider-value {
    font-size: 1.2rem;
    color: #333;
    font-weight: 500;
  }

  /* Comparison Section */
  .comparison-section-new {
    background: #E8E8E8;
    padding: 2rem;
    border-radius: 12px;
    margin: 0 2rem 4rem;
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 4rem;
  }

  .comparison-images {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
  }

  .comparison-side {
    flex: 1;
    text-align: center;
  }

  .comparison-image {
    width: 200px;
    height: 150px;
    margin: 0 auto 1rem;
    border-radius: 8px;
    overflow: hidden;
  }

  .comparison-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .comparison-side h3 {
    font-size: 1.5rem;
    color: #7CB342;
    font-weight: 600;
    margin: 0;
  }

  .vs-divider {
    font-size: 2rem;
    font-weight: bold;
    color: #7CB342;
    padding: 0 2rem;
  }

  /* Metrics Section */
  .metrics-section {
    max-width: 500px;
    margin: 0 auto;
  }

  .metric-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    min-height: 50px;
  }

  .metric-label {
    color: #333;
    font-size: 1.1rem;
    font-weight: 500;
  }

  .metric-pill {
    background: #A5D6A7;
    color: #2E7D32;
    padding: 0.5rem 1rem;
    border-radius: 25px;
    font-weight: 500;
    font-size: 0.95rem;
  }

  .metric-pill.large {
    background: #81C784;
    padding: 0.7rem 1.5rem;
    font-size: 1.1rem;
    font-weight: 600;
  }

  .metric-link {
    background: #A5D6A7;
    color: #2E7D32;
    padding: 0.5rem 1rem;
    border-radius: 25px;
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 500;
    transition: all 0.3s ease;
  }

  .metric-link:hover {
    background: #81C784;
    transform: translateY(-1px);
  }

  /* Detail Sections */
  .detail-section {
    margin-bottom: 5rem;
    scroll-margin-top: 100px;
    padding: 0 2rem;
  }

  .detail-section h2 {
    font-size: 2rem;
    color: #333;
    margin-bottom: 2rem;
    text-align: center;
  }

  .detail-content {
    display: flex;
    gap: 3rem;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
  }

  .detail-text {
    flex: 1;
  }

  .detail-text p {
    color: #555;
    line-height: 1.8;
    margin-bottom: 1rem;
  }

  .detail-image {
    flex: 1;
    max-width: 500px;
    min-width: 400px;
  }

  .detail-image img {
    width: 100%;
    height: 300px;
    object-fit: cover;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  /* Call to Action */
  .article-cta {
    text-align: center;
    background: #f9f9f9;
    padding: 3rem 2rem;
    border-radius: 12px;
    margin: 0 2rem;
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
  }

  .article-cta h2 {
    font-size: 2rem;
    color: #333;
    margin-bottom: 1rem;
  }

  .article-cta p {
    color: #666;
    margin-bottom: 2rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }

  .cta-buttons {
    display: flex;
    justify-content: center;
    gap: 1rem;
  }

  .cta-button {
    display: inline-block;
    padding: 1rem 2rem;
    border-radius: 30px;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s ease;
  }

  .cta-button.primary {
    background: #4CAF50;
    color: white;
  }

  .cta-button.secondary {
    background: white;
    color: #4CAF50;
    border: 2px solid #4CAF50;
  }

  .cta-button:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  /* Responsive Adjustments */
  @media (max-width: 992px) {
    .hero-content {
      flex-direction: column;
      height: auto;
    }

    .hero-left {
      height: auto;
      padding: 3rem 2rem;
    }

    .hero-right {
      height: 50vh;
      min-height: 300px;
    }

    .hero-title {
      font-size: 2.5rem;
    }

    .detail-content {
      flex-direction: column;
    }

    .detail-image {
      order: -1;
      margin-bottom: 2rem;
    }
  }

  @media (max-width: 768px) {
    .hero-title {
      font-size: 2rem;
    }

    .hero-left {
      padding: 2rem 1rem;
    }

    .comparison-images {
      flex-direction: column;
      gap: 1rem;
    }

    .vs-divider {
      margin: 1rem 0;
    }

    .cta-buttons {
      flex-direction: column;
      align-items: center;
    }

    .metric-row {
      flex-direction: column;
      gap: 0.5rem;
      text-align: center;
    }
  }
</style>

<!-- JavaScript for the slider functionality and navbar scroll -->
<script>
document.addEventListener('DOMContentLoaded', function () {
  /* ---------- CONSTANTS ---------- */
  const baseTrueCostPerKg = 2.72; // Base true cost per KG

  /* ---------- MAIN UPDATE ---------- */
  function updateValues(amount) {
    // 1. Update the displayed amount
    document.getElementById('current-amount').textContent = amount;

    // 2. Calculate total true cost based on amount
    const totalTrueCost = (baseTrueCostPerKg * amount) / 1000; // Convert to thousands for display
    
    // 3. Update the true costs display
    const trueCostsDisplay = document.getElementById('true-costs-display');
    if (amount >= 1000) {
      trueCostsDisplay.textContent = `+€${totalTrueCost.toFixed(2)}K total`;
    } else {
      trueCostsDisplay.textContent = `+€${(baseTrueCostPerKg * amount).toFixed(2)} total`;
    }
  }

  /* ---------- SLIDER HOOK ---------- */
  const slider = document.getElementById('amountSlider');
  slider.addEventListener('input', () => updateValues(parseInt(slider.value, 10)));

  /* ---------- NAVBAR SCROLL EFFECT ---------- */
  const navbar = document.querySelector('.navbar');
  const transparentHeader = document.querySelector('.transparent-header');
  
  if (transparentHeader && navbar) {
    window.addEventListener('scroll', function() {
      if (window.scrollY > 50) {
        transparentHeader.classList.add('scrolled');
      } else {
        transparentHeader.classList.remove('scrolled');
      }
    });
  }

  /* ---------- SMOOTH SCROLLING FOR ANCHOR LINKS ---------- */
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      e.preventDefault();
      const targetId = this.getAttribute('href');
      const targetElement = document.querySelector(targetId);
      
      if (targetElement) {
        window.scrollTo({
          top: targetElement.offsetTop - 80,
          behavior: 'smooth'
        });
      }
    });
  });

  /* ---------- FIRST LOAD ---------- */
  updateValues(parseInt(slider.value, 10));
});
</script>

{% endblock %}
