{% extends "base.html" %}
{% block title %}Login{% endblock %}
{% block content %}

<div class="auth-container">
  <div class="auth-card">
    <div class="auth-header">
      <h2>Login Account <i class="fas fa-user-circle"></i></h2>
      <p class="auth-welcome">Hello, welcome back to your account!</p>
    </div>

    <!-- Toggle buttons for Business / Food Forest -->
    <div class="account-type-selector">
      <button type="button" class="account-type-btn active" data-type="business">Business</button>
      <button type="button" class="account-type-btn" data-type="food-forest">Food Forest</button>
    </div>

    <!-- Login Form -->
    <form method="POST" class="auth-form">
      <div class="form-group">
        <input
          type="email"
          class="form-control"
          id="email"
          name="email"
          placeholder="Email address"
          required
        />
      </div>

      <div class="form-group">
        <input
          type="password"
          class="form-control"
          id="password"
          name="password"
          placeholder="Password"
          required
        />
        <div class="forgot-password">
          <a href="#">Forgot Password?</a>
        </div>
      </div>

      <input type="hidden" name="account_type" id="account_type" value="business">

      <button type="submit" class="auth-submit-btn">Login</button>
    </form>

    <div class="auth-divider">
      <span>Or sign up with</span>
    </div>

    <div class="social-login">
      <button type="button" class="google-btn">
        <img
          src="{{ url_for('static', filename='images/google-icon.png') }}"
          alt="Google"
          onerror="this.src='https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg'; this.style.width='18px';">
        Google
      </button>
    </div>

    <div class="auth-footer">
      <p>
        Not registered yet?
        <a href="{{ url_for('auth.sign_up') }}">Create Account</a>
      </p>
    </div>
  </div>
</div>


<script>

  // JavaScript to handle account type selection
  
  document.addEventListener('DOMContentLoaded', function() {
    const accountTypeBtns = document.querySelectorAll('.account-type-btn');
    const accountTypeInput = document.getElementById('account_type');

    accountTypeBtns.forEach(btn => {
      btn.addEventListener('click', function() {

        accountTypeBtns.forEach(b => b.classList.remove('active'));

        this.classList.add('active');

        accountTypeInput.value = this.dataset.type;
      });
    });
  });
</script>

{% endblock %}
